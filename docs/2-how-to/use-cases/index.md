# JourneyForge DSL – Use Case Catalog

Status: Draft | Last updated: 2025-11-20

This catalog collects concrete JourneyForge use cases and links them to example journey definitions, OpenAPI exports, and DSL patterns. Each use case has its own page under `docs/2-how-to/use-cases/` with end‑to‑end samples.

## Use Cases

| Use case | Description | Example specs |
|----------|-------------|---------------|
| Third‑party auth & propagation | Use inbound auth (JWT/mTLS/API key) and `httpBindings` to normalise identity into `context`, then use outbound auth (OAuth2 client credentials) for downstream calls. | [Definition](../../3-reference/examples/technical/auth-user-info/auth-user-info.journey.yaml) · [OAS](../../3-reference/examples/technical/auth-user-info/auth-user-info.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/auth-user-info/auth-user-info.arazzo.yaml) · [Docs](auth-third-party.md) |
| Synchronous API endpoint (no journeys) | Expose a single HTTP endpoint (`kind: Api`) that calls one or more downstream APIs and returns a composed result without journey ids or status polling. | [Definition](../../3-reference/examples/technical/http-chained-calls-api/http-chained-calls-api.journey.yaml) · [OAS](../../3-reference/examples/technical/http-chained-calls-api/http-chained-calls-api.openapi.yaml) · [Docs](api-endpoint-sync.md) |
| HTTP notification (fire-and-forget) | Trigger best-effort audit/notification calls using `task.mode: notify` and continue without observing the HTTP outcome. | [Definition](../../3-reference/examples/technical/http-notify-audit/http-notify-audit.journey.yaml) · [Docs](http-notify-audit.md) |
| Event publish to Kafka | Emit domain events to Kafka using `task.kind: eventPublish` with key/value mappers and JSON Schemas. | [Definition](../../3-reference/examples/technical/event-publish-kafka/event-publish-kafka.journey.yaml) · [Docs](event-publish-kafka.md) |
| Request multiplexing & composition | Call multiple HTTP APIs and combine their responses, including chained calls and conditional composition. | [Definition](../../3-reference/examples/technical/http-chained-calls/http-chained-calls.journey.yaml) · [OAS](../../3-reference/examples/technical/http-chained-calls/http-chained-calls.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/http-chained-calls/http-chained-calls.arazzo.yaml) · [Docs](request-multiplexing.md) |
| Trace/header propagation | Capture inbound trace IDs and propagate them to all downstream HTTP tasks without repeating headers in every state. | [Definition](../../3-reference/examples/technical/http-header-interpolation/http-header-interpolation.journey.yaml) · [OAS](../../3-reference/examples/technical/http-header-interpolation/http-header-interpolation.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/http-header-interpolation/http-header-interpolation.arazzo.yaml) · [Docs](header-propagation.md) |
| Cache‑aware profile lookup | Use `transform` + `cacheGet`/`cachePut` to avoid redundant upstream calls by caching user data. | [Definition](../../3-reference/examples/technical/cache-user-profile/cache-user-profile.journey.yaml) · [OAS](../../3-reference/examples/technical/cache-user-profile/cache-user-profile.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/cache-user-profile/cache-user-profile.arazzo.yaml) · [Docs](cache-user-profile.md) |
| External approval & callbacks | Pause journeys at `wait`/`webhook` states, resume on manual approval or third‑party callbacks, and expose `/steps/{stepId}` endpoints. | [Definition](../../3-reference/examples/technical/wait-approval/wait-approval.journey.yaml) · [OAS](../../3-reference/examples/technical/wait-approval/wait-approval.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/wait-approval/wait-approval.arazzo.yaml) · [Docs](external-input-approval.md) |
| Error handling & Problem Details | Detect upstream failures/timeouts, normalise them into RFC 9457 Problem Details, and either return or fail with mapped error codes. | [Definition](../../3-reference/examples/technical/http-failure-branch/http-failure-branch.journey.yaml) · [OAS](../../3-reference/examples/technical/http-failure-branch/http-failure-branch.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/http-failure-branch/http-failure-branch.arazzo.yaml) · [Docs](error-handling-problem-details.md) |
| API error mapping with `spec.errors` + `spec.apiResponses` | Combine canonical Problem Details, a single journey-wide error envelope, and declarative HTTP status mapping rules for `kind: Api` endpoints. | Definition (TBD) · [Docs](api-error-mapping-spec-errors-and-apiResponses.md) |
| Parallel credit decision | Call risk/limits/KYC services in parallel and make a combined approve/reject decision. | [Definition](../../3-reference/examples/technical/credit-decision-parallel/credit-decision-parallel.journey.yaml) · [OAS](../../3-reference/examples/technical/credit-decision-parallel/credit-decision-parallel.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/credit-decision-parallel/credit-decision-parallel.arazzo.yaml) · [Docs](parallel-credit-decision.md) |
| Resilience policies & degraded mode | Use httpResilience policies to retry unstable calls and fail with a degraded status if all attempts fail. | [Definition](../../3-reference/examples/technical/http-resilience-degrade/http-resilience-degrade.journey.yaml) · [OAS](../../3-reference/examples/technical/http-resilience-degrade/http-resilience-degrade.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/http-resilience-degrade/http-resilience-degrade.arazzo.yaml) · [Docs](http-resilience-degrade.md) |
| Idempotent create‑if‑not‑exists | Implement create‑or‑get semantics using GET+POST and explicit branching on HTTP status. | [Definition](../../3-reference/examples/technical/http-idempotent-create/http-idempotent-create.journey.yaml) · [OAS](../../3-reference/examples/technical/http-idempotent-create/http-idempotent-create.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/http-idempotent-create/http-idempotent-create.arazzo.yaml) · [Docs](http-idempotent-create.md) |
| Transform‑only pipeline | Run a multi‑step DataWeave transform pipeline without any HTTP calls. | [Definition](../../3-reference/examples/technical/transform-pipeline/transform-pipeline.journey.yaml) · [OAS](../../3-reference/examples/technical/transform-pipeline/transform-pipeline.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/transform-pipeline/transform-pipeline.arazzo.yaml) · [Docs](transform-pipeline.md) |
| Multi‑tenant routing | Route to different upstream APIs based on tenant id from headers. | [Definition](../../3-reference/examples/technical/multitenant-routing/multitenant-routing.journey.yaml) · [OAS](../../3-reference/examples/technical/multitenant-routing/multitenant-routing.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/multitenant-routing/multitenant-routing.arazzo.yaml) · [Docs](multitenant-routing.md) |
| Named outcomes & reporting | Classify outcomes with spec.outcomes to distinguish success/failure reasons. | [Definition](../../3-reference/examples/technical/named-outcomes/named-outcomes.journey.yaml) · [OAS](../../3-reference/examples/technical/named-outcomes/named-outcomes.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/named-outcomes/named-outcomes.arazzo.yaml) · [Docs](named-outcomes.md) |
| Sync wrapper over wait | Use a wait state with timeout to represent long‑running operations with clear timeout semantics. | [Definition](../../3-reference/examples/technical/sync-wrapper-wait/sync-wrapper-wait.journey.yaml) · [OAS](../../3-reference/examples/technical/sync-wrapper-wait/sync-wrapper-wait.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/sync-wrapper-wait/sync-wrapper-wait.arazzo.yaml) · [Docs](sync-wrapper-wait.md) |
| Timer-based timeout with parallel + timer | Use `timer` and `parallel` to model “user action OR timeout after N” without overloading `wait.timeoutSec` or relying on external schedulers. | [Definition](../../3-reference/examples/technical/payment-reminder-with-timeout/payment-reminder-with-timeout.journey.yaml) · [OAS](../../3-reference/examples/technical/payment-reminder-with-timeout/payment-reminder-with-timeout.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/payment-reminder-with-timeout/payment-reminder-with-timeout.arazzo.yaml) · [Docs](timer-parallel-timeout.md) |
| SLAs, timers, waits, and escalations | Model state-bound SLAs on review steps using `wait.timeoutSec + onTimeout`, or race human/system actions against `timer` in `parallel` to express “decide within N or escalate/timeout”. | [Definition](../../3-reference/examples/business/support-case-sla/support-case-sla.journey.yaml) · [Definition](../../3-reference/examples/business/high-value-transfer/high-value-transfer.journey.yaml) · [Definition](../../3-reference/examples/business/privacy-erasure-sla/privacy-erasure-sla.journey.yaml) · [Docs](sla-timers-waits-and-escalations.md) |
| Global compensation journey | Attach a global compensation path that runs when a journey fails, times out, or is cancelled, using `spec.compensation` with access to final context and termination metadata. | [Definition](../../3-reference/examples/technical/http-compensation/http-compensation.journey.yaml) · [Docs](global-compensation.md) |
| Subject-scoped self-service steps | Capture the subject from JWT at start, re-check it on follow-up steps, and fail with a security error on mismatch. | [Definition](../../3-reference/examples/technical/subject-step-guard/subject-step-guard.journey.yaml) · [Docs](subject-self-service.md) |
| Bounded loops & retries | Model approval, document collection, and polling loops with explicit attempt counters and execution time limits. | [Definition](../../3-reference/examples/technical/approval-loop/approval-loop.journey.yaml) · [Docs](loops-bounded-retries.md) |
| Journey metadata (tags & attributes) | Shape `context` using payload, headers, and `baggage` so the engine can populate journey tags and attributes for querying and correlation. | [Definition](../../3-reference/examples/technical/metadata-from-payload/metadata-from-payload.journey.yaml) · [OAS](../../3-reference/examples/technical/metadata-from-payload/metadata-from-payload.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/metadata-from-payload/metadata-from-payload.arazzo.yaml) · [Docs](journey-metadata-tags-attributes.md) |
| Notification pacing & integration throttling | Apply simple per-user pacing rules to notifications and third-party integration calls so that no more than one call is made within a configurable window. | [Definition](../../3-reference/examples/technical/notification-throttle/notification-throttle.journey.yaml) · [OAS](../../3-reference/examples/technical/notification-throttle/notification-throttle.openapi.yaml) · [Arazzo](../../3-reference/examples/technical/notification-throttle/notification-throttle.arazzo.yaml) · [Docs](notification-throttle.md) |

For each use case, the dedicated page explains:
- The problem and context.
- The relevant DSL features (`task`, `choice`, `transform`, `wait`/`webhook`, `parallel`, `spec.errors`, etc.).
- How the example journey definition is structured, with key YAML snippets.
- How the per‑journey / per‑API OpenAPI export (`docs/3-reference/examples/oas/*.openapi.yaml`) surfaces the behaviour.
