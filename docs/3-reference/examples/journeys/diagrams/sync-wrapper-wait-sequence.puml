@startuml
!include journey-diagram-theme.puml
title sync-wrapper-wait â€“ main workflow sequence

actor "API client" as Client
participant "Journeys API" as Journeys

Client -> Journeys: POST /api/v1/journeys/sync-wrapper-wait/start
Journeys -> Journeys: Start journey and enter waitStep
Journeys --> Client: 200 OK\nJourneyStatus (phase = Running,\ncurrentState = waitStep)

Client -> Journeys: POST /api/v1/journeys/{journeyId}/steps/waitStep\ncompletion event
Journeys -> Journeys: Process completion event\nand drive journey to terminal state
Journeys --> Client: 200 OK\nJourneyStatus (phase, currentState)

Client -> Journeys: GET /api/v1/journeys/{journeyId}/result
Journeys --> Client: 200 OK\nJourneyOutcome (phase, output, error)

@enduml
