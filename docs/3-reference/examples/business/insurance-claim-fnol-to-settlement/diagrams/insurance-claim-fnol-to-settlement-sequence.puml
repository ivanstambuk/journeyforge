@startuml
!include journey-diagram-theme.puml
title insurance-claim-fnol-to-settlement â€“ FNOL, assessment, settlement sequence

actor "Client" as Client
actor "Claimant UI" as Claimant
actor "Adjuster UI" as AdjusterUI
actor "Provider UI" as ProviderUI
actor "Claims Ops UI" as ClaimsOps
participant "Journeys API" as Journeys

Client -> Journeys: POST /api/v1/journeys/insurance-claim-fnol-to-settlement/start\nInsuranceClaimStartRequest
Journeys --> Client: 200 OK\nJourneyStatus (waiting for FNOL details)

Claimant -> Journeys: POST /api/v1/journeys/{journeyId}/steps/submitFnolDetails\nFnolDetailsInput
Journeys --> Claimant: 200 OK\nFnolDetailsStepResponse

AdjusterUI -> Journeys: POST /api/v1/journeys/{journeyId}/steps/submitAdjusterReport\nAdjusterReportInput
Journeys --> AdjusterUI: 200 OK\nAdjusterReportStepResponse

ProviderUI -> Journeys: POST /api/v1/journeys/{journeyId}/steps/submitProviderEstimate\nProviderEstimateInput
Journeys --> ProviderUI: 200 OK\nProviderEstimateStepResponse

Client -> Journeys: GET /api/v1/journeys/{journeyId}\n(getStatusBeforeSettlement)
Journeys --> Client: 200 OK\nJourneyStatus (waiting for settlement approval)

ClaimsOps -> Journeys: POST /api/v1/journeys/{journeyId}/steps/confirmSettlement\nSettlementApprovalInput
Journeys --> ClaimsOps: 200 OK\nSettlementApprovalStepResponse

Client -> Journeys: GET /api/v1/journeys/{journeyId}/result\n(getResult)
Journeys --> Client: 200 OK\nJourneyOutcome (SETTLED or DENIED)

@enduml
